<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>enchannel-zmq-backend</h1><p><a href="https://github.com/nteract/enchannel-zmq-backend/releases"><img src="https://img.shields.io/badge/enchannel--zmq--backend-version--latest-blue.svg" alt="GitHub release"></a>
<a href="https://github.com/nteract/enchannel/releases"><img src="https://img.shields.io/badge/enchannel%20spec-version%201.1-ff69b4.svg" alt="enchannel spec version"></a>
<a href="https://greenkeeper.io/"><img src="https://badges.greenkeeper.io/nteract/enchannel-zmq-backend.svg" alt="Greenkeeper badge"></a></p>
<p><a href="#installation"><strong>Installation</strong></a> | <a href="#usage"><strong>Usage</strong></a> |
<a href="#contributors-and-developers"><strong>Contributors and developers</strong></a> |
<a href="#learn-more-about-nteract"><strong>Learn more about nteract</strong></a></p>
<p><strong>enchannel-zmq-backend</strong> offers the ZeroMQ backend implementation for
<a href="https://github.com/nteract/enchannel"><code>enchannel</code></a>.</p>
<h2>Technical overview</h2><p>As a refresher for the reader, <a href="https://github.com/nteract/enchannel/blob/master/README.md"><em>enchannel</em></a> details nteract's
lightweight, implementation-flexible specification for communication
between a user frontend and a backend, such as a language kernel. The
<em>enchannel</em> specification offers a simple description of &quot;what&quot;
messages may be passed between frontends and backends, while leaving
a developer freedom in &quot;how&quot; to achieve message communication.</p>
<p><strong>enchannel-zmq-backend</strong> takes a classic design approach using ZeroMQ,
the foundation messaging protocol for the Jupyter project.
enchannel-zmq-backend implements backend support for the messaging
channels described in the <a href="http://jupyter-client.readthedocs.io/en/latest/messaging.html">Jupyter messaging specification</a>. This
spec explains how front end clients should communicate with
backend language kernels which implement the Jupyter messaging
specification.</p>
<h2>Our backend</h2><p><strong>enchannel-zmq-backend</strong> implements the &quot;how&quot; to communicate messages
to and from a backend.</p>
<p>We provide functions to create <a href="https://github.com/ReactiveX/RxJS">RxJS</a>
<a href="http://reactivex.io/documentation/subject.html">Subjects</a> (two way
<a href="http://reactivex.io/documentation/observable.html">Observables</a> for
four of the channels described in the
<a href="http://jupyter-client.readthedocs.io/en/latest/messaging.html">Jupyter messaging specification</a>:</p>
<ul>
<li><code>shell</code></li>
<li><code>control</code></li>
<li><code>iopub</code></li>
<li><code>stdin</code></li>
</ul>
<p>That's it. Functions for four channels; <em>simplicity in action</em>.</p>
<h2>Installation</h2><p>Prerequisite: <a href="https://docs.npmjs.com/getting-started/installing-node">Node.js and npm</a></p>
<p><code>npm install enchannel-zmq-backend</code></p>
<h2>Usage</h2><h3>Creating messaging channels</h3><p>To get access to all of the <code>channels</code> for messaging (<code>shell</code>, <code>control</code>,
<code>iopub</code>, and <code>stdin</code>), import and use the <code>createChannels</code> function:</p>
<pre class="prettyprint source lang-javascript"><code>import { createChannels } from 'enchannel-zmq-backend'</code></pre><p>The <code>createChannels</code> function accepts two things:</p>
<ul>
<li><p>an identity</p>
<p>  You'll want to set up your identity, relying on the node <code>uuid</code> package:</p>
<pre class="prettyprint source lang-javascript"><code>  const uuidv4 = require('uuid/v4');
  const identity = uuidv4();</code></pre></li>
<li><p>a runtime object, such as a kernel (which matches the on-disk JSON).
Using <a href="https://github.com/nteract/spawnteract"><code>spawnteract</code></a> with
this project helps streamline spawning a kernel.</p>
<pre class="prettyprint source lang-javascript"><code>  const runtimeConfig = {
    stdin_port: 58786,
    ip: '127.0.0.1',
    control_port: 58787,
    hb_port: 58788,
    signature_scheme: 'hmac-sha256',
    key: 'dddddddd-eeee-aaaa-dddd-dddddddddddd',
    shell_port: 58784,
    transport: 'tcp',
    iopub_port: 58785
  }</code></pre></li>
</ul>
<p>To create the channels <em>object</em>:</p>
<pre class="prettyprint source lang-javascript"><code>const channels = createChannels(identity, runtimeConfig)
const { shell, iopub, stdin, control } = channels;</code></pre><p><code>enchannel-zmq-backend</code> also offers four convenience functions to
easily create the messaging channels for <code>control</code>, <code>stdin</code>, <code>iopub</code>,
and <code>shell</code> :</p>
<pre class="prettyprint source lang-javascript"><code>import {
  createControlSubject,
  createStdinSubject,
  createIOPubSubject,
  createShellSubject,
} from 'enchannel-zmq-backend';</code></pre><p>Creating a <em>subject</em> for the <code>shell</code> channel:</p>
<pre class="prettyprint source lang-javascript"><code>const shell = createShellSubject(identity, runtimeConfig)</code></pre><h3>Subscribing to messages</h3><p>Here's an example about how to subscribe to <code>iopub</code> messages:</p>
<pre class="prettyprint source lang-javascript"><code>const iopub = createIOPubSubject(identity, runtimeConfig);
var subscription = iopub.subscribe(msg => {
  console.log(msg);
}

// later, run subscription.unsubscribe()</code></pre><p>Since these channels are RxJS Observables, you can use <code>filter</code>, <code>map</code>,
<code>scan</code> and many other RxJS operators:</p>
<pre class="prettyprint source lang-javascript"><code>iopub.filter(msg => msg.header.msg_type === 'execute_result')
     .map(msg => msg.content.data)
     .subscribe(x => { console.log(`DATA! ${util.inspect(x)}`)})</code></pre><h3>Sending messages to the kernel</h3><p>Executing code will rely on sending an <a href="http://jupyter-client.readthedocs.org/en/latest/messaging.html#execute"><code>execute_request</code> to the <code>shell</code> channel</a>.</p>
<pre class="prettyprint source lang-javascript"><code>var message = {
  header: {
    msg_id: `execute_9ed11a0f-707e-4f71-829c-a19b8ff8eed8`,
    username: 'rgbkrk',
    session: '00000000-0000-0000-0000-000000000000',
    msg_type: 'execute_request',
    version: '5.0',
  },
  content: {
    code: 'print(&quot;woo&quot;)',
    silent: false,
    store_history: true,
    user_expressions: {},
    allow_stdin: false,
  },
};</code></pre><p>Currently, you'll need to have at least one subscription activated
before you can send on a channel.</p>
<pre class="prettyprint source lang-javascript"><code>> shell.subscribe(console.log)</code></pre><pre class="prettyprint source lang-javascript"><code>> shell.next(payload)
> Message {
  header:
   { username: 'rgbkrk',
     msg_type: 'execute_reply',
     msg_id: '0f6d37f3-56a2-41fd-b3ed-90cc189ac423',
     version: '5.1',
     session: '40472e70-e008-48d1-9537-55837a905c05',
     date: '2016-01-12T00:39:44.686986' },
  parent_header:
   { username: 'rgbkrk',
     session: '00000000-0000-0000-0000-000000000000',
     version: '5.0',
     msg_id: 'execute_9ed11a0f-707e-4f71-829c-a19b8ff8eed8',
     msg_type: 'execute_request' },
  metadata:
   { dependencies_met: true,
     engine: '34d73425-4f04-4b57-9bc7-b46e3100e1fd',
     status: 'ok',
     started: '2016-01-12T00:39:44.684534' },
  content:
   { status: 'ok',
     execution_count: 60,
     user_expressions: {},
     payload: [] } }</code></pre><h2>Contributors and developers</h2><h3>ZeroMQ Dependency</h3><p>If you plan to contribute to this project or extend it, you will need
to have <a href="http://zeromq.org/intro:get-the-software">ZeroMQ</a> installed on
your system. The easiest way to do this is to install nteract's
<code>zmq-prebuilt</code>[] binary for your operating system.</p>
<h3>Install a local development environment</h3><p>To set up a development environment, you'll need to install:</p>
<ul>
<li><a href="https://docs.npmjs.com/getting-started/installing-node"><code>npm</code></a></li>
<li><a href="https://github.com/nteract/zmq-prebuilt"><code>zmq-prebuilt</code></a></li>
</ul>
<p>Then, fork and clone this repo:</p>
<pre class="prettyprint source lang-bash"><code>git clone https://github.com/nteract/enchannel-zmq-backend.git
cd enchannel-zmq-backend
npm install</code></pre><p>Develop! We welcome new and first time contributors.</p>
<h2>Learn more about nteract</h2><ul>
<li>Visit our website http://nteract.io/.</li>
<li>See our organization on GitHub https://github.com/nteract</li>
<li>Join us on <a href="http://slack.nteract.in/">Slack</a> if you need help or have
questions. If you have trouble creating an account, either
email rgbkrk@gmail.com or post an issue on GitHub.</li>
</ul>
<p><img src="https://cloud.githubusercontent.com/assets/836375/15271096/98e4c102-19fe-11e6-999a-a74ffe6e2000.gif" alt="nteract animated logo" height="80px" /></p></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#createChannels">createChannels</a></li><li><a href="global.html#createChannelSubject">createChannelSubject</a></li><li><a href="global.html#createControlSubject">createControlSubject</a></li><li><a href="global.html#createIOPubSubject">createIOPubSubject</a></li><li><a href="global.html#createObservable">createObservable</a></li><li><a href="global.html#createShellSubject">createShellSubject</a></li><li><a href="global.html#createSocket">createSocket</a></li><li><a href="global.html#createStdinSubject">createStdinSubject</a></li><li><a href="global.html#createSubject">createSubject</a></li><li><a href="global.html#createSubscriber">createSubscriber</a></li><li><a href="global.html#deepFreeze">deepFreeze</a></li><li><a href="global.html#formConnectionString">formConnectionString</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Wed Mar 15 2017 11:00:16 GMT+0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>